(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c.n(n),s=c(28),a=c.n(s),j=(c(35),c(36),c(3)),i=c(11),l=c(1),o=function(e){var t=e.item;return Object(l.jsx)("div",{className:"itemContainer",children:Object(l.jsx)(i.b,{to:"/itemTracker/edit/".concat(t.itemId),children:Object(l.jsx)("table",{children:Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"ID:"}),Object(l.jsxs)("td",{children:[t.itemId," "]})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name:"}),Object(l.jsx)("td",{children:t.name})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Qty:"}),Object(l.jsx)("td",{children:t.qty})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Min Qty:"}),Object(l.jsx)("td",{children:t.minQty})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Status:"}),Object(l.jsx)("td",{children:t.status})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Added Date:"}),Object(l.jsx)("td",{children:t.addedDate})]})]})})})})},d=c(7),b=c.n(d),h=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(""),a=Object(j.a)(s,2),i=a[0],o=a[1];return Object(l.jsx)("div",{className:"addItem",children:Object(l.jsxs)("form",{children:[Object(l.jsxs)("b",{children:[Object(l.jsx)("label",{children:"New item:"}),Object(l.jsx)("br",{})]}),Object(l.jsx)("input",{type:"text",placeholder:"New item name",value:c,onChange:function(e){r(e.target.value)}}),Object(l.jsxs)("b",{children:[Object(l.jsx)("label",{children:"Min quantity:"}),Object(l.jsx)("br",{})]}),Object(l.jsx)("input",{type:"number",placeholder:"New item min qty",value:i,onChange:function(e){o(e.target.value)}}),Object(l.jsx)("button",{onClick:function(e){console.log(c),console.log(i),c?i?i>0?(r(""),o(""),b.a.post("https://task-trackerzxc.herokuapp.com/api/addItem",{itemName:c,minQty:i}).then((function(){console.log("done")}))):console.log("minimum qty must be more than 0"):console.log("minimum qty cannot be empty"):console.log("name cannot be empty")},children:"Add"})]})})},O=r.a.createContext(),u=function(e){var t=e.children,c=Object(n.useState)(""),r=Object(j.a)(c,2),s=r[0],a=r[1],i=Object(n.useState)(""),o=Object(j.a)(i,2),d=o[0],b=o[1],h=Object(n.useState)(""),u=Object(j.a)(h,2),x=u[0],m=u[1],p=Object(n.useState)(null),f=Object(j.a)(p,2),g=f[0],y=f[1],v=Object(n.useState)(null),k=Object(j.a)(v,2),N=k[0],C=k[1];return Object(l.jsx)(O.Provider,{value:{setSearch:a,search:s,filter:d,setFilters:b,page:x,setPage:m,colName:g,setColName:y,order:N,setOrder:C},children:t})},x=function(){return Object(n.useContext)(O)};var m=function(){var e=x(),t=e.search,c=e.setPage,r=e.colName,s=e.order,a=Object(n.useState)([]),i=Object(j.a)(a,2),d=i[0],O=i[1];return Object(n.useEffect)((function(){b.a.get("https://task-trackerzxc.herokuapp.com/api/getItems").then((function(e){O(e.data),c("item"),window.scrollTo(0,0)}))}),[]),Object(n.useEffect)((function(){b.a.get("https://task-trackerzxc.herokuapp.com/api/getItems",{params:{colName:r,order:s}}).then((function(e){O(e.data),c("item"),window.scrollTo(0,0)}))}),[r,s]),Object(l.jsxs)("div",{id:"home",children:[Object(l.jsx)(h,{}),d&&r?d.filter((function(e){return String(e[r]).toLowerCase().includes(t.toLowerCase())||""===e[r]})).map((function(e){return Object(l.jsx)(o,{item:e},e.itemId)})):null]})},p=c(14),f=c(4);var g=function(){var e=Object(f.f)().id,t=Object(n.useState)(null),c=Object(j.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(""),o=Object(j.a)(a,2),d=o[0],h=o[1],O=Object(n.useState)(0),u=Object(j.a)(O,2),m=u[0],g=u[1],y=Object(n.useState)(0),v=Object(j.a)(y,2),k=v[0],N=v[1],C=x().setPage;return Object(n.useEffect)((function(){b.a.get("https://task-trackerzxc.herokuapp.com/api/getItem",{params:{itemId:e}}).then((function(e){C("edit"),r?(h(r.name),g(r.qty),N(r.minQty)):s(e.data)}))}),[r]),Object(l.jsx)("div",{id:"edit",children:r?Object(l.jsxs)("form",{children:[Object(l.jsx)("h3",{style:{textAlign:"center"},children:"Update Good's Name"}),Object(l.jsx)("table",{className:"formTable",children:Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"ID:"}),Object(l.jsx)("td",{children:r.itemId})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name:"}),Object(l.jsxs)("td",{children:[Object(l.jsx)("input",{type:"text",defaultValue:r.name,onChange:function(e){!function(e){h(e.target.value)}(e)}})," "]})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Current Qty:"}),Object(l.jsxs)("td",{children:[Object(l.jsx)("input",{type:"number",defaultValue:r.qty,onChange:function(e){!function(e){g(e.target.value)}(e)}})," "]})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Min Qty:"}),Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"number",defaultValue:r.minQty,onChange:function(e){!function(e){N(e.target.value)}(e)}})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Status:"}),Object(l.jsx)("td",{children:r.status})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("td",{colSpan:"2",style:{textAlign:"center"},children:Object(l.jsx)(i.b,{to:"/itemTracker/",onClick:function(){console.log(e),console.log(d,r.name),console.log(m,r.qty),console.log(k,r.minQty);var t=parseInt(e),c=parseInt(m),n=parseInt(k),s="UPDATE",a=!1;console.log("newmin",n),console.log("newqty",c),d===r.name&&m===r.qty&&k===r.minQty?console.log("no change"):(c>=0&&n>0?c>r.qty?(s="RESTOCK",console.log(s)):c<r.qty&&(s="USE",console.log(s)):(a=!0,console.log("error")),console.log("error",a),!1===a&&b.a.post("https://task-trackerzxc.herokuapp.com/api/updateItem",{itemId:t,name:d,qty:c,minQty:n,action:s}))},children:Object(l.jsxs)("button",{children:["Update ",Object(l.jsx)(p.c,{})]})})})}),Object(l.jsx)("tr",{children:Object(l.jsx)("td",{colSpan:"2",style:{textAlign:"center"},children:Object(l.jsx)(i.b,{to:"/itemTracker/",onClick:function(){console.log(e),b.a.post("https://task-trackerzxc.herokuapp.com/api/deleteItem",{itemId:e}),console.log("done")},children:Object(l.jsxs)("button",{children:["Delete ",Object(l.jsx)(p.b,{})]})})})}),Object(l.jsx)("tr",{children:Object(l.jsx)("td",{colSpan:"2",style:{textAlign:"center"},children:Object(l.jsx)(i.b,{to:"/itemTracker/",children:Object(l.jsxs)("button",{children:["Cancel ",Object(l.jsx)(p.a,{})]})})})})]})})]}):Object(l.jsx)("h1",{children:"Item not found"})})},y=function(e){var t=e.transaction;return Object(l.jsxs)("tr",{className:"transaction",children:[Object(l.jsx)("td",{children:t.id}),Object(l.jsx)("td",{children:t.itemID}),Object(l.jsx)("td",{children:t.transType}),Object(l.jsx)("td",{children:t.qty}),Object(l.jsx)("td",{children:t.transDate})]})},v=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1],s=x(),a=s.search,i=s.setPage,o=s.colName,d=s.order;return Object(n.useEffect)((function(){b.a.get("https://task-trackerzxc.herokuapp.com/api/getTransactions",{params:{colName:o,order:d}}).then((function(e){r(e.data),i("transaction"),window.scrollTo(0,0)}))}),[o,d]),Object(l.jsx)("div",{id:"history",children:Object(l.jsx)("table",{children:Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:" ID"}),Object(l.jsx)("th",{children:" Item ID"}),Object(l.jsx)("th",{children:"Type"}),Object(l.jsx)("th",{children:"Qty"}),Object(l.jsx)("th",{children:"Date"})]}),c&&o?c.filter((function(e){return String(e[o]).toLowerCase().includes(a.toLowerCase())||""===e[o]})).map((function(e){return Object(l.jsx)(y,{transaction:e},e.id)})):null]})})})},k=c(30),N=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],r=t[1],s=Object(n.useRef)(null),a=Object(n.useRef)(null),o=x(),d=o.search,b=o.setSearch;o.page;return Object(n.useEffect)((function(){var e=a.current.getBoundingClientRect().height;s.current.style.height=c?"".concat(e,"px"):"0px"}),[c]),Object(l.jsx)("nav",{id:"navz",children:Object(l.jsxs)("div",{className:"nav-center",children:[Object(l.jsxs)("div",{className:"nav-header",children:[Object(l.jsx)("button",{className:"nav-toggle",onClick:function(){return r(!c)},children:Object(l.jsx)(k.a,{})}),Object(l.jsx)("input",{className:"searchBar",type:"text",placeholder:"\ud83d\udd0e\ufe0e Search for item",onChange:function(e){!function(e){b(e.target.value)}(e)},value:d})]}),Object(l.jsx)("div",{className:"links-container",ref:s,children:Object(l.jsxs)("ul",{className:"links",ref:a,children:[Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/itemTracker/",children:"Home"})}),Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/itemTracker/history",children:"History"})})]})})]})})},C=function(){var e=x(),t=e.page,c=e.colName,r=e.setColName,s=e.setOrder,a=Object(n.useState)([]),i=Object(j.a)(a,2),o=i[0],d=i[1],h=["asc","desc"];console.log("page",t),Object(n.useEffect)((function(){b.a.get("https://task-trackerzxc.herokuapp.com/api/getTable",{params:{table:t}}).then((function(e){e&&(console.log("resp",e.data),d(e.data),o.length>0&&(console.log(o[0].COLUMN_NAME),r(o[0].COLUMN_NAME)))}))}),[t]),Object(n.useEffect)((function(){0!=o.length&&(console.log("cats",o),r(o[0].COLUMN_NAME),s(h[0]))}),[o]);return Object(l.jsxs)("div",{className:"filter",children:[Object(l.jsx)("label",{children:"Group by: "}),Object(l.jsx)("select",{onChange:function(e){!function(e){console.log(e.target.value),r(e.target.value)}(e)},defaultValue:c?c[0].COLUMN_NAME:null,children:o.map((function(e,t){return Object(l.jsx)("option",{value:e.COLUMN_NAME,children:e.COLUMN_NAME},t)}))}),Object(l.jsx)("label",{children:"Sort/Search by: "}),Object(l.jsx)("select",{onChange:function(e){!function(e){console.log(e.target.value),s(e.target.value)}(e)},defaultValue:h[0],children:h.map((function(e){return Object(l.jsx)("option",{value:e,children:e+"ending"},e)}))})]})};var S=function(){var e=x().page;return Object(l.jsx)("div",{children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(N,{}),"edit"!==e?Object(l.jsx)(C,{}):null,Object(l.jsx)("div",{id:"body",children:Object(l.jsxs)(f.c,{children:[Object(l.jsx)(f.a,{exact:!0,path:"/itemTracker",children:Object(l.jsx)(m,{})}),Object(l.jsx)(f.a,{exact:!0,path:"/itemTracker/history",children:Object(l.jsx)(v,{})}),Object(l.jsx)(f.a,{exact:!0,path:"/itemTracker/edit/:id",children:Object(l.jsx)(g,{})})]})})]})})};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(u,{children:Object(l.jsx)(S,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.29dc7c71.chunk.js.map