(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c.n(n),s=c(28),a=c.n(s),i=(c(35),c(36),c(3)),l=c(11),j=c(1),o=function(e){var t=e.item;return Object(j.jsx)("div",{className:"itemContainer",children:Object(j.jsx)(l.b,{to:"/itemTracker/edit/".concat(t.itemId),children:Object(j.jsx)("table",{children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID:"}),Object(j.jsxs)("td",{children:[t.itemId," "]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Name:"}),Object(j.jsx)("td",{children:t.name})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Qty:"}),Object(j.jsx)("td",{children:t.qty})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Min Qty:"}),Object(j.jsx)("td",{children:t.minQty})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Status:"}),Object(j.jsx)("td",{children:t.status})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Added Date:"}),Object(j.jsx)("td",{children:t.addedDate})]})]})})})})},d=c(7),b=c.n(d),h=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(""),a=Object(i.a)(s,2),l=a[0],o=a[1];return Object(j.jsx)("div",{className:"addItem",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("b",{children:[Object(j.jsx)("label",{children:"New item:"}),Object(j.jsx)("br",{})]}),Object(j.jsx)("input",{type:"text",placeholder:"New item name",value:c,onChange:function(e){r(e.target.value)}}),Object(j.jsxs)("b",{children:[Object(j.jsx)("label",{children:"Min quantity:"}),Object(j.jsx)("br",{})]}),Object(j.jsx)("input",{type:"number",placeholder:"New item min qty",value:l,onChange:function(e){o(e.target.value)}}),Object(j.jsx)("button",{onClick:function(e){!function(e){e.preventDefault(),console.log(c),console.log(l),c?l?l>0?(r(""),o(""),b.a.post("https://task-trackerzxc.herokuapp.com/api/addItem",{itemName:c,minQty:l}).then((function(){console.log("done")}))):console.log("minimum qty must be more than 0"):console.log("minimum qty cannot be empty"):console.log("name cannot be empty")}(e)},children:"Add"})]})})},u=r.a.createContext(),O=function(e){var t=e.children,c=Object(n.useState)(""),r=Object(i.a)(c,2),s=r[0],a=r[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),d=o[0],b=o[1],h=Object(n.useState)(""),O=Object(i.a)(h,2),x=O[0],m=O[1],p=Object(n.useState)(null),f=Object(i.a)(p,2),g=f[0],y=f[1],v=Object(n.useState)(null),k=Object(i.a)(v,2),S=k[0],N=k[1];return Object(j.jsx)(u.Provider,{value:{setSearch:a,search:s,filter:d,setFilters:b,page:x,setPage:m,colName:g,setColName:y,order:S,setOrder:N},children:t})},x=function(){return Object(n.useContext)(u)};var m=function(){var e=x(),t=e.search,c=e.setPage,r=e.colName,s=e.order,a=e.page,l=Object(n.useState)([]),d=Object(i.a)(l,2),u=d[0],O=d[1];return Object(n.useEffect)((function(){b.a.get("https://task-trackerzxc.herokuapp.com/api/getItems").then((function(e){O(e.data),c("item"),window.scrollTo(0,0)}))}),[]),console.log("page is",a),Object(n.useEffect)((function(){b.a.get("https://task-trackerzxc.herokuapp.com/api/getItems",{params:{colName:r,order:s}}).then((function(e){console.log(e.data),O(e.data),c("item"),window.scrollTo(0,0)}))}),[r,s]),Object(j.jsxs)("div",{id:"home",children:[Object(j.jsx)(h,{}),u?u.filter((function(e){return String(e[r]).toLowerCase().includes(t.toLowerCase())||""===e[r]})).map((function(e){return Object(j.jsx)(o,{item:e},e.itemId)})):null]})},p=c(14),f=c(4);var g=function(){var e=Object(f.f)().id,t=Object(n.useState)(null),c=Object(i.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(""),o=Object(i.a)(a,2),d=o[0],h=o[1],u=Object(n.useState)(0),O=Object(i.a)(u,2),m=O[0],g=O[1],y=Object(n.useState)(0),v=Object(i.a)(y,2),k=v[0],S=v[1],N=x().setPage;return Object(n.useEffect)((function(){b.a.get("https://task-trackerzxc.herokuapp.com/api/getItem",{params:{itemId:e}}).then((function(e){N("edit"),r?(h(r.name),g(r.qty),S(r.minQty)):s(e.data)}))}),[r]),Object(j.jsx)("div",{id:"edit",children:r?Object(j.jsxs)("form",{children:[Object(j.jsx)("h3",{style:{textAlign:"center"},children:"Update Good's Name"}),Object(j.jsx)("table",{className:"formTable",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID:"}),Object(j.jsx)("td",{children:r.itemId})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Name:"}),Object(j.jsxs)("td",{children:[Object(j.jsx)("input",{type:"text",defaultValue:r.name,onChange:function(e){!function(e){h(e.target.value)}(e)}})," "]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Current Qty:"}),Object(j.jsxs)("td",{children:[Object(j.jsx)("input",{type:"number",defaultValue:r.qty,onChange:function(e){!function(e){g(e.target.value)}(e)}})," "]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Min Qty:"}),Object(j.jsx)("td",{children:Object(j.jsx)("input",{type:"number",defaultValue:r.minQty,onChange:function(e){!function(e){S(e.target.value)}(e)}})})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Status:"}),Object(j.jsx)("td",{children:r.status})]}),Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:"2",style:{textAlign:"center"},children:Object(j.jsx)(l.b,{to:"/itemTracker/",onClick:function(){console.log(e),console.log(d,r.name),console.log(m,r.qty),console.log(k,r.minQty);var t=parseInt(e),c=parseInt(m),n=parseInt(k),s="UPDATE",a=!1;console.log("newmin",n),console.log("newqty",c),d===r.name&&m===r.qty&&k===r.minQty?console.log("no change"):(c>=0&&n>0?c>r.qty?(s="RESTOCK",console.log(s)):c<r.qty&&(s="USE",console.log(s)):(a=!0,console.log("error")),console.log("error",a),!1===a&&b.a.post("https://task-trackerzxc.herokuapp.com/api/updateItem",{itemId:t,name:d,qty:c,minQty:n,action:s}))},children:Object(j.jsxs)("button",{children:["Update ",Object(j.jsx)(p.c,{})]})})})}),Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:"2",style:{textAlign:"center"},children:Object(j.jsx)(l.b,{to:"/itemTracker/",onClick:function(){console.log(e),b.a.post("https://task-trackerzxc.herokuapp.com/api/deleteItem",{itemId:e}),console.log("done")},children:Object(j.jsxs)("button",{children:["Delete ",Object(j.jsx)(p.b,{})]})})})}),Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:"2",style:{textAlign:"center"},children:Object(j.jsx)(l.b,{to:"/itemTracker/",children:Object(j.jsxs)("button",{children:["Cancel ",Object(j.jsx)(p.a,{})]})})})})]})})]}):Object(j.jsx)("h1",{children:"Item not found"})})},y=function(e){var t=e.transaction;return Object(j.jsxs)("tr",{className:"transaction",children:[Object(j.jsx)("td",{children:t.id}),Object(j.jsx)("td",{children:t.itemID}),Object(j.jsx)("td",{children:t.transType}),Object(j.jsx)("td",{children:t.qty}),Object(j.jsx)("td",{children:t.transDate})]})},v=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1],s=x(),a=s.search,l=s.setPage,o=s.colName,d=s.order;return Object(n.useEffect)((function(){b.a.get("https://task-trackerzxc.herokuapp.com/api/getTransactions",{params:{colName:o,order:d}}).then((function(e){r(e.data),l("transaction"),window.scrollTo(0,0)}))}),[o,d]),Object(j.jsx)("div",{id:"history",children:Object(j.jsx)("table",{children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:" ID"}),Object(j.jsx)("th",{children:" Item ID"}),Object(j.jsx)("th",{children:"Type"}),Object(j.jsx)("th",{children:"Qty"}),Object(j.jsx)("th",{children:"Date"})]}),c?c.filter((function(e){return String(e[o]).toLowerCase().includes(a.toLowerCase())||""===e[o]})).map((function(e){return Object(j.jsx)(y,{transaction:e},e.id)})):null]})})})},k=c(30),S=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useRef)(null),a=Object(n.useRef)(null),o=x(),d=o.search,b=o.setSearch;o.page;return Object(n.useEffect)((function(){var e=a.current.getBoundingClientRect().height;s.current.style.height=c?"".concat(e,"px"):"0px"}),[c]),Object(j.jsx)("nav",{id:"navz",children:Object(j.jsxs)("div",{className:"nav-center",children:[Object(j.jsxs)("div",{className:"nav-header",children:[Object(j.jsx)("button",{className:"nav-toggle",onClick:function(){return r(!c)},children:Object(j.jsx)(k.a,{})}),Object(j.jsx)("input",{className:"searchBar",type:"text",placeholder:"\ud83d\udd0e\ufe0e Search for item",onChange:function(e){!function(e){b(e.target.value)}(e)},value:d})]}),Object(j.jsx)("div",{className:"links-container",ref:s,children:Object(j.jsxs)("ul",{className:"links",ref:a,children:[Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/itemTracker/",children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/itemTracker/history",children:"History"})})]})})]})})},N=function(){var e=x(),t=e.page,c=e.colName,r=e.setColName,s=e.setOrder,a=Object(n.useState)([]),l=Object(i.a)(a,2),o=l[0],d=l[1],h=["asc","desc"];console.log("page",t),Object(n.useEffect)((function(){""!==t&&b.a.get("https://task-trackerzxc.herokuapp.com/api/getTable",{params:{table:t}}).then((function(e){e&&(d(e.data),o.length>0&&(console.log(o[0].Field),r(o[0].Field)))}))}),[t]),Object(n.useEffect)((function(){0!=o.length&&(console.log("cats",o),r(o[0].Field),s(h[0]))}),[o]);return Object(j.jsxs)("div",{className:"filter",children:[Object(j.jsx)("label",{children:"Group by: "}),Object(j.jsx)("select",{onChange:function(e){!function(e){console.log(e.target.value),r(e.target.value)}(e)},defaultValue:c?c[0].Field:null,children:o.length<=0?null:o.map((function(e,t){return Object(j.jsx)("option",{value:e.Field,children:e.Field},t)}))}),Object(j.jsx)("label",{children:"Sort/Search by: "}),Object(j.jsx)("select",{onChange:function(e){!function(e){console.log(e.target.value),s(e.target.value)}(e)},defaultValue:h[0],children:h.map((function(e){return Object(j.jsx)("option",{value:e,children:e+"ending"},e)}))})]})};var C=function(){var e=x().page;return Object(j.jsx)("div",{children:Object(j.jsxs)(l.a,{children:[Object(j.jsx)(S,{}),"edit"!==e?Object(j.jsx)(N,{}):null,Object(j.jsx)("div",{id:"body",children:Object(j.jsxs)(f.c,{children:[Object(j.jsx)(f.a,{exact:!0,path:"/itemTracker",children:Object(j.jsx)(m,{})}),Object(j.jsx)(f.a,{exact:!0,path:"/itemTracker/history",children:Object(j.jsx)(v,{})}),Object(j.jsx)(f.a,{exact:!0,path:"/itemTracker/edit/:id",children:Object(j.jsx)(g,{})})]})})]})})};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(O,{children:Object(j.jsx)(C,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.a401ad2f.chunk.js.map